WEBSERVER:BASICS: CHEAT SHEET by gv

##APACHE2
To be added - chapter on how to manually install and configure apache2

##PHP
In Debian 12 , the php version available is 8.2
All bellow commands should be run as root or with sudo.
Source: https://www.installconfig.com/doku.php?id=configure_ubuntu_server_20_04_host_nextcloud_hub_21

Step 1: apt install php libapache2-mod-php libapache2-mod-fcgid php-fpm 

Step 2: write a simple test.php file inside /var/www/html folder, containing just those two lines:
<?php
phpinfo();

Step 3: open a php interactive shell with php -a and run phpinfo();
If you see output , php is installed (as a language).

Step 4: geany /etc/apache2/apache2.conf
To the end of file , add this line:
SetHandler application/x-httpd-php

Step 5: Disable older php modules and load new php modules
a2dismod mpm_event
a2enmod mpm_prefork
a2enmod php8.2
a2enmod proxy_fcgi setenvif
a2enconf php8.2-fpm
a2query -m php8.2 
#a2query is just a question to the system / query - you expect to get a positive confirmation in your query


Step 6: Edit the php configuration file and comment out / disable the following lines:
geany /etc/apache2/mods-enabled/php8.2.conf
# Running PHP scripts in user directories is disabled by default
# 
# To re-enable PHP in user directories comment the following lines
# (from <IfModule ...> to </IfModule>.) Do NOT set it to On as it
# prevents .htaccess files from disabling it.
#<IfModule mod_userdir.c>
#    <Directory /home/*/public_html>
#        php_admin_flag engine Off
#    </Directory>
#</IfModule>

Step 7: systemctl restart apache2

Step 8: Navigate to http://127.0.0.1/test.php and everything should work ok.
PS: Considering that you had a working apache2 server , meaning that you have a default index.html file and meaning that visiting http://127.0.0.1 works ok.

Step 9: It seems good option to install some php extensions in your system:
sudo apt install php8.0-gd php8.0-mysql php8.0-curl php8.0-mbstring
sudo apt install php8.0-intl php8.0-gmp php8.0-bcmath php8.0-xml
sudo apt install libapache2-mod-php8.0 php8.0-zip php-imagick php-apcu
